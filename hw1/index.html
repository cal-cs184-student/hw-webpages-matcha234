<html>
	<head>
		<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=default'></script>
		<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
		<style>
			h1 {
				text-align: center;
			}

			.container {
				margin: 0 auto;
				padding: 60px 20%;
			}

			figure {
				text-align: center;
			}

			img {
				display: inline-block;
			}

			body {
				font-family: 'Inter', sans-serif;
			}
		</style>
	</head>
	<body>
		<div class="container">
		<h1>CS184/284A Spring 2025 Homework 1 Write-Up</h1>
		<div style="text-align: center;">Advika Bhike and Malavikha Sudarshan</div>


		Link to webpage: <a href="https://cal-cs184-student.github.io/hw-webpages-matcha234/hw1/index.html">cal-cs184-student.github.io/hw-webpages-matcha234/hw1/index.html</a>
		
		<br>

		Link to GitHub repository: <a href="https://github.com/cal-cs184-student/sp25-hw1-matcha4">github.com/cal-cs184-student/sp25-hw1-matcha4</a>

		<figure>
			<img src="lion.jpg" alt="Lion" style="width:60%"/>
			<!-- <figcaption>You can add images with captions!</figcaption> -->
		</figure>

		<!--
		We've already added one heading per task, to make your write-up as navigable when grading. Please fit your write-up within these sections!
		-->

		<h2>Overview</h2>
		In this homework, we built a basic rasterizer that can efficiently draw triangles, apply supersampling for anti-aliasing, and handle texture mapping with different filtering techniques. It was a really helpful way to understand the content that we had seen in lecture and actually get hands-on experience with how the graphics pipeline works, especially the rasterization process, interpolation, and texture filtering. 
		One of the most interesting takeaways was how small optimisations, like calculating barycentric coordinates efficiently, could make a big difference in performance.
		
		<!-- TASK 1 -->

		<h2>Task 1: Drawing Single-Color Triangles</h2>
		<p>To rasterize a triangle, we use a bounding box approach, iterating over the pixels within the smallest rectangle that fully contains the triangle. Within this bounding box, we check whether each sample point falls inside the triangle using the edge function method. We then iterated through all pixel coordinates within this bounding box.</p> 
		<p>Instead of testing the entire pixel area, we focused on the center of each pixel, which was represented by \( (sx, sy) = (x + 0.5, y + 0.5)\) for each pixel \((x, y).\)</p>
		<ul>
			<li>We first found the smallest axis-aligned rectangle that contained the entire triangle. This gave us a local region to scan instead of checking the entire image.</li>
			<li>For each sampled point (sx, sy), we performed three tests based on the triangle's edges. Each edge was represented by a line equation, and we used these equations to check whether the point lay inside the triangle.
			This is an example of one of the line equations used:
			 \[ -(sx - x_0) \cdot (y_1 - y_0) + (sy - y_0) \cdot (x_1 - x_0) \] 
				<!-- \[ −(x−x_0​)⋅(y_1​−y_0​)+(y−y_0​)⋅(x_1​−x_0​) \] -->

		<li>Each edge of the triangle had one of these equations. If all three equations returned values with the same sign (all positive or all negative), the point was inside the triangle, and we coloured it in using the <code>fill_pixel(sx, sy, colour)</code> helper function.</li>
	</ul>
		<p>This was efficient as instead of looping over the entire screen, we only looked at a local region around the triangle. Instead of checking multiple points within each pixel, we also sampled only once at the center of the pixel. Using the line equations also made checking each pixel fast since it only required a few arithmetic operations, so, while we still considered every pixel in the bounding box, this approach efficiently determined which pixels needed to be filled.</p>

		
		<figure>
			<img src="q1.png" alt="Q1 Image" style="width:80%"/>
			<figcaption>Screenshot of basic/test4.svg using the default settings and the pixel inspector</figcaption>
		</figure>
<!-- 
	 <p>Here is an example 2x2 gridlike structure using an HTML table. Each <b>tr</b> is a row and each <b>td</b> is a column in that row. You might find this useful for framing and showing your result images in an organized fashion.</p> 
		<div style="display: flex; flex-direction: column; align-items: center;">
			<table style="width: 100%; text-align: center; border-collapse: collapse;">
			  <tr>
				<td style="text-align: center;">
				  <img src="q1.png" width="400px"/>
				  <figcaption>Caption goes here.</figcaption>
				</td>
				<td style="text-align: center;">
				  <img src="lion.jpg" width="400px"/>
				  <figcaption>Caption goes here.</figcaption>
				</td>
			  </tr>
			  <tr>
				<td style="text-align: center;">
				  <img src="lion.jpg" width="400px"/>
				  <figcaption>Caption goes here.</figcaption>
				</td>
				<td style="text-align: center;">
				  <img src="lion.jpg" width="400px"/>
				  <figcaption>Caption goes here.</figcaption>
				</td>
			  </tr>
			</table>
		</div> 
	-->
		<!-- TASK 2 -->

		<h2>Task 2: Antialiasing by Supersampling</h2>
		For Question 2, we added supersampling to improve image quality by reducing jagged edges (aliasing). Instead of sampling just once per pixel, we took multiple samples per pixel and averaged them to smooth out edges, as shown in lecture. This meant tweaking the way we stored pixel data and how we processed triangles during rasterization.
		
		<p>Normally, each pixel holds just one color value, but with supersampling, we stored multiple samples per pixel. This meant creating a larger buffer to keep track of extra color values. Instead of checking if the triangle covered just the center of a pixel, we tested multiple subpixel locations: if a sample landed inside the triangle, we gave it the appropriate color.</p>
		
		<p>Once all triangles were rasterized, we averaged all the subpixel samples in each pixel to get the final color. 
		Supersampling smoothed out gradients, captured smaller details and helped get rid of jagged edges, which is seen by the pixel inspector comparisons from sample rate values of 1, 4 and 16 (left to right).</p>

		<div style="display: flex; flex-direction: column; align-items: center;">
			<table style="width: 100%; text-align: center; border-collapse: collapse;">
			  <tr>
				<td style="text-align: center;">
				  <img src="q2_1.png" width="320px"/>
				  <figcaption>Sample Rate = 1. Obvious jaggies and unrepresented thin lines.</figcaption>
				</td>
				<td style="text-align: center;">
				  <img src="q2_4.png" width="320px"/>
				  <figcaption>Sample Rate = 4. Smoother edges but still with some aliasing.</figcaption>
				</td>
				<td style="text-align: center;">
					<img src="q2_16.png" width="320px"/>
					<figcaption>Sample Rate = 16. Thin lines are preserved and gradients make edges smoother.</figcaption>
				  </td>
			  </tr>
			</table>
		</div>
		
		<!-- TASK 3 -->
		<h2>Task 3: Transforms</h2>
		We made Cubeman jump, and cross his legs, by adding a rotation to each of his legs and modifying the y parameter in the first transformation computation, so that the whole robot was raised higher in the bounding box. We also played around with the colours and wanted to make the triangles that make up each square/rectangle explicitly visible, so we filled in neighbouring triangles with contrasting shades of blue.

		<div style="display: flex; flex-direction: column; align-items: center;">
			<table style="width: 100%; text-align: center; border-collapse: collapse;">
			  <tr>
				<td style="text-align: center;">
				  <img src="q3_1.png" width="320px"/>
				  <figcaption>Cubeman sitting down.</figcaption>
				</td>
				<td style="text-align: center;">
				  <img src="q3_2.png" width="320px"/>
				  <figcaption>Cubeman standing with his legs wide, getting ready to jump.</figcaption>
				</td>
				<td style="text-align: center;">
					<img src="q3_3.png" width="320px"/>
					<figcaption>Cubeman jumping!</figcaption>
				  </td>
			  </tr>
			</table>
		</div>
		<!-- TASK 4 -->

		<h2>Task 4: Barycentric coordinates</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

		<h2>Task 5: "Pixel sampling" for texture mapping</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

		<h2>Task 6: "Level Sampling" with mipmaps for texture mapping</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

		<h2>(Optional) Task 7: Extra Credit - Draw Something Creative!</h2>
		Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.

		<h2>Additional Notes (please remove)</h2>
		<ul>
			<li>You can also add code if you'd like as so: <code>code code code</code></li>
			<li>If you'd like to add math equations, 
				<ul>
					<li>You can write inline equations like so: \( a^2 + b^2 = c^2 \)</li>
					<li>You can write display equations like so: \[ a^2 + b^2 = c^2 \]</li>
				</ul>
			</li>
		</ul>
		</div>
	</body>
</html>